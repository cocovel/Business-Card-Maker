(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports={makerBlack:"#6c584c",makerWhite:"white",makerColorful:"linear-gradient(166deg, rgba(237, 193, 211, 1) 0%,rgba(212, 149, 161, 1) 60%, rgba(162, 63, 63, 1) 100%, rgba(127, 188, 242, 1) 100%)",makerShadow:"rgba(217, 217, 217, 1)",makerWheat:"wheat",card:"card_card__1py-W",dark:"card_dark__1FdRe",light:"card_light__1Cc6G",colorful:"card_colorful__2zruV",avatar:"card_avatar__33lzN",info:"card_info__2Fslj",name:"card_name__31aE7",company:"card_company__3UM9t",title:"card_title__25_dG",email:"card_email__3uHYI",message:"card_message__2dRnZ"}},,function(e,t,a){e.exports={makerBlack:"#6c584c",makerWhite:"white",form:"card_add_form_form__1mJeN",input:"card_add_form_input__1s9KG",textarea:"card_add_form_textarea__3OTfu",select:"card_add_form_select__2br_K",button:"card_add_form_button__3PkX4",fileInput:"card_add_form_fileInput__R7REj",buttom:"card_add_form_buttom__UUhFW"}},function(e,t,a){e.exports={makerBlack:"#6c584c",makerWhite:"white",form:"card_edit_form_form__2xQD4",input:"card_edit_form_input__uur0a",textarea:"card_edit_form_textarea__1-v1B",select:"card_edit_form_select__V3wH9",button:"card_edit_form_button__3Jpk4",fileInput:"card_edit_form_fileInput__3mXDK",buttom:"card_edit_form_buttom__f6lHx"}},,,function(e,t,a){e.exports={makerGreen:"#b0c4b1",makerLightPink:"#ffeae8",makerWhite:"white",login:"login_login__19aQM",list:"login_list__17HtO",item:"login_item__3A1Lj",button:"login_button__Fi6x4"}},function(e,t,a){e.exports={makerLightGrey:"#e8e7e6",makerLightPink:"#ffeae8",makerPink:"pink",container:"image_file_input_container__3Eqtx",input:"image_file_input_input__1K4NM",button:"image_file_input_button__3E8sw",grey:"image_file_input_grey__68AiQ",pink:"image_file_input_pink__1V0O7",loading:"image_file_input_loading__3OwEa",spin:"image_file_input_spin__1K71y"}},function(e,t,a){e.exports={makerGreen:"#b0c4b1",makerBlack:"#6c584c",makerWhite:"white",header:"header_header__v9FKw",logo:"header_logo__1X7aW",title:"header_title__1DXxp",logout:"header_logout__1MXam"}},,,function(e,t,a){e.exports={makerGreen:"#b0c4b1",preview:"preview_preview__3lr-V",title:"preview_title__3zLS1",cards:"preview_cards__1KzyC"}},,,,function(e,t,a){e.exports={makerGrey:"#b4b4b4",app:"app_app__cewju"}},function(e,t,a){e.exports={makerGreen:"#b0c4b1",makerWhite:"white",footer:"footer_footer__1lZIc",title:"footer_title__pkoUs"}},,function(e,t,a){e.exports={makerGreen:"#b0c4b1",makerLightGrey:"#e8e7e6",editor:"editor_editor__1nHIK",title:"editor_title__21REx"}},function(e,t,a){e.exports={mediaQuery:"62rem",makerWhite:"white",maker:"maker_maker__1Jsum",container:"maker_container__25Mis"}},,,,,function(e,t,a){e.exports={makerWhite:"white",makerGreen:"#b0c4b1",button:"button_button__3_GL1"}},,,,,function(e,t,a){e.exports={makeWhite:"undefined"}},,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var r=a(2),c=a.n(r),n=a(32),i=a.n(n),s=(a(39),a(25)),l=a.n(s),o=a(5),d=a(26),u=a.n(d),m=a(1);var _=Object(r.memo)((()=>Object(m.jsx)("footer",{className:u.a.footer,children:Object(m.jsx)("p",{className:u.a.title,children:"\xa9cocovel"})}))),j=a(18),p=a.n(j);var b=Object(r.memo)((e=>{let{onLogout:t}=e;return Object(m.jsxs)("header",{className:p.a.header,children:[t&&Object(m.jsx)("button",{className:p.a.logout,onClick:t,children:"Logout"}),Object(m.jsx)("img",{className:p.a.logo,src:"/images/businessCard.avif",alt:"logo.png"}),Object(m.jsx)("h1",{className:p.a.title,children:"Business Card Maker"})]})})),h=a(16),f=a.n(h);var O=e=>{let{authService:t}=e;const a=Object(o.f)(),c=e=>{a.push({pathname:"/maker",state:{id:e}})},n=e=>{t.login(e.currentTarget.textContent).then((e=>c(e.user.uid)))};return Object(r.useEffect)((()=>{t.onAuthChange((e=>{e&&c(e.id)}))})),Object(m.jsxs)("section",{className:f.a.login,children:[Object(m.jsx)(b,{}),Object(m.jsxs)("section",{children:[Object(m.jsx)("h1",{children:"Login"}),Object(m.jsxs)("ul",{className:f.a.list,children:[Object(m.jsx)("li",{className:f.a.item,children:Object(m.jsx)("button",{className:f.a.button,onClick:n,children:"Google"})}),Object(m.jsx)("li",{className:f.a.item,children:Object(m.jsx)("button",{className:f.a.button,onClick:n,children:"Github"})})]})]}),Object(m.jsx)(_,{})]})},x=a(19),g=a(12),k=a.n(g),v=a(34),N=a.n(v);var C=Object(r.memo)((e=>{let{name:t,onClick:a}=e;return Object(m.jsx)("button",{className:N.a.button,onClick:a,children:t})}));var y=Object(r.memo)((e=>{let{FileInput:t,onAdd:a}=e;const c=Object(r.useRef)(),n=Object(r.useRef)(),i=Object(r.useRef)(),s=Object(r.useRef)(),l=Object(r.useRef)(),o=Object(r.useRef)(),d=Object(r.useRef)(),[u,_]=Object(r.useState)({fileName:null,fileURL:null});return Object(m.jsxs)("form",{ref:c,className:k.a.form,children:[Object(m.jsx)("input",{ref:n,className:k.a.input,type:"text",name:"name",placeholder:"Name"}),Object(m.jsx)("input",{ref:i,className:k.a.input,type:"text",name:"company",placeholder:"Company"}),Object(m.jsxs)("select",{ref:s,className:k.a.select,name:"theme",placeholder:"Theme",children:[Object(m.jsx)("option",{placeholder:"light",children:"light"}),Object(m.jsx)("option",{placeholder:"dark",children:"dark"}),Object(m.jsx)("option",{placeholder:"colorful",children:"colorful"})]}),Object(m.jsx)("input",{ref:l,className:k.a.input,type:"text",name:"title",placeholder:"Title"}),Object(m.jsx)("input",{ref:o,className:k.a.input,type:"text",name:"email",placeholder:"Email"}),Object(m.jsx)("textarea",{ref:d,className:k.a.textarea,name:"message",placeholder:"Message"}),Object(m.jsx)("div",{className:k.a.fileInput,children:Object(m.jsx)(t,{name:u.fileName,onFileChange:e=>{console.log(e),_({fileName:e.name,fileURL:e.url})}})}),Object(m.jsx)(C,{name:"Add",onClick:e=>{e.preventDefault();const t={id:Date.now(),name:n.current.value||"",company:i.current.value||"",theme:s.current.value,title:l.current.value||"",email:o.current.value||"",message:d.current.value||"",fileName:u.fileName||"",fileURL:u.fileURL||""};c.current.reset(),_({fileName:null,fileURL:null}),a(t)}})]})})),w=a(13),R=a.n(w);var I=e=>{let{FileInput:t,card:a,updateCard:c,deleteCard:n}=e;const i=Object(r.useRef)(),s=Object(r.useRef)(),l=Object(r.useRef)(),o=Object(r.useRef)(),d=Object(r.useRef)(),u=Object(r.useRef)(),{name:_,company:j,title:p,email:b,message:h,theme:f,fileName:O}=a,x=e=>{null!=e.currentTarget&&(e.preventDefault(),c({...a,[e.currentTarget.name]:e.currentTarget.value}))};return Object(m.jsxs)("form",{className:R.a.form,children:[Object(m.jsx)("input",{className:R.a.input,type:"text",name:"name",ref:i,value:_,onChange:x}),Object(m.jsx)("input",{className:R.a.input,type:"text",name:"company",ref:s,value:j,onChange:x}),Object(m.jsxs)("select",{className:R.a.select,name:"theme",ref:l,value:f,onChange:x,children:[Object(m.jsx)("option",{value:"light",children:"light"}),Object(m.jsx)("option",{value:"dark",children:"dark"}),Object(m.jsx)("option",{value:"colorful",children:"colorful"})]}),Object(m.jsx)("input",{className:R.a.input,type:"text",name:"title",ref:o,value:p,onChange:x}),Object(m.jsx)("input",{className:R.a.input,type:"text",name:"email",ref:d,value:b,onChange:x}),Object(m.jsx)("textarea",{className:R.a.textarea,name:"message",ref:u,value:h,onChange:x}),Object(m.jsx)("div",{className:R.a.fileInput,children:Object(m.jsx)(t,{name:O,onFileChange:e=>{c({...a,fileName:e.name,fileURL:e.url})}})}),Object(m.jsx)(C,{name:"Delete",onClick:()=>{n(a)}})]})},L=a(28),F=a.n(L);var G=e=>{let{FileInput:t,cards:a,addCard:r,updateCard:c,deleteCard:n}=e;return Object(m.jsxs)("section",{className:F.a.editor,children:[Object(m.jsx)("h1",{className:F.a.title,children:"Card Maker"}),Object.keys(a).map((e=>Object(m.jsx)(I,{FileInput:t,card:a[e],updateCard:c,deleteCard:n},e))),Object(m.jsx)(y,{FileInput:t,onAdd:r})]})},S=a(10),W=a.n(S);function A(e){switch(e){case"dark":return W.a.dark;case"light":return W.a.light;case"colorful":return W.a.colorful;default:throw new Error("unknown theme: ".concat(e))}}var U=Object(r.memo)((e=>{let{card:t}=e;const{name:a,company:r,title:c,email:n,message:i,theme:s,fileURL:l}=t,o=l||"/images/default_logo.png";return Object(m.jsxs)("li",{className:"".concat(W.a.card," ").concat(A(s)),children:[Object(m.jsx)("img",{className:W.a.avatar,src:o,alt:"profile"}),Object(m.jsxs)("div",{className:W.a.info,children:[Object(m.jsx)("h1",{className:W.a.name,children:a}),Object(m.jsx)("p",{className:W.a.company,children:r}),Object(m.jsx)("p",{className:W.a.title,children:c}),Object(m.jsx)("p",{className:W.a.email,children:n}),Object(m.jsx)("p",{className:W.a.message,children:i})]})]})})),E=a(21),P=a.n(E);var D=e=>{let{cards:t}=e;return Object(m.jsxs)("section",{className:P.a.preview,children:[Object(m.jsx)("h1",{className:P.a.title,children:"Card Preview"}),Object(m.jsx)("ul",{className:P.a.cards,children:Object.keys(t).map((e=>Object(m.jsx)(U,{card:t[e]},e)))})]})},M=a(29),z=a.n(M);var K=e=>{var t;let{FileInput:a,authService:c,cardRepository:n}=e;const i=Object(o.f)(),s=null===i||void 0===i||null===(t=i.location)||void 0===t?void 0:t.state,[l,d]=Object(r.useState)({}),[u,j]=Object(r.useState)(s&&s.id),p=Object(r.useCallback)((()=>{c.logout()}),[c]);Object(r.useEffect)((()=>{if(!u)return;const e=n.syncCards(u,(e=>{d(e)}));return()=>e()}),[u,n]),Object(r.useEffect)((()=>{c.onAuthChange((e=>{e?j(e.uid):i.push("/")}))}),[c,u,i]);const h=e=>{d((t=>{const a={...t};return a[e.id]=e,a})),n.saveCard(u,e)};return Object(m.jsxs)("section",{className:z.a.maker,children:[Object(m.jsx)(b,{onLogout:p}),Object(m.jsxs)("div",{className:z.a.container,children:[Object(m.jsx)(G,{FileInput:a,cards:l,addCard:h,updateCard:h,deleteCard:e=>{d((t=>{const a={...t};return delete a[e.id],a})),n.removeCard(u,e)}}),Object(m.jsx)(D,{cards:l})]}),Object(m.jsx)(_,{})]})};var T=function(e){let{FileInput:t,authService:a,cardRepository:r}=e;return Object(m.jsx)("div",{className:l.a.app,children:Object(m.jsx)(x.a,{children:Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{exact:!0,path:"/",children:Object(m.jsx)(O,{authService:a})}),Object(m.jsx)(o.a,{path:"/maker",children:Object(m.jsx)(K,{FileInput:t,authService:a,cardRepository:r})})]})})})},B=a(22);a(45),a(47);const H=B.a.initializeApp({apiKey:"AIzaSyCYP9WdsOkkwDeA0gI2-_rg2M2n6CzrLO4",authDomain:"buisness-card-maker-3f215.firebaseapp.com",databaseURL:"https://buisness-card-maker-3f215-default-rtdb.firebaseio.com",projectId:"buisness-card-maker-3f215"}),J=H.auth(),X=H.database(),Q=new B.a.auth.GoogleAuthProvider,V=new B.a.auth.GithubAuthProvider;var q=class{login(e){const t=this.getProvider(e);return J.signInWithPopup(t)}logout(){J.signOut()}onAuthChange(e){J.onAuthStateChanged((t=>{e(t)}))}getProvider(e){switch(e){case"Google":return Q;case"Github":return V;default:throw new Error("not supported provider ".concat(e))}}};var Y=class{async upload(e){const t=new FormData;t.append("file",e),t.append("upload_preset","pdzaoz52");const a=await fetch("https://api.cloudinary.com/v1_1/drqni4rhj/upload",{method:"POST",body:t});return await a.json()}},Z=a(17),$=a.n(Z);var ee=Object(r.memo)((e=>{let{imageUploader:t,name:a,onFileChange:c}=e;const[n,i]=Object(r.useState)(!1),s=Object(r.useRef)();return Object(m.jsxs)("div",{className:$.a.container,children:[Object(m.jsx)("input",{ref:s,className:$.a.input,type:"file",accept:"image/*",name:"file",onChange:async e=>{i(!0);const a=await t.upload(e.target.files[0]);i(!1),c({name:a.original_filename,url:a.url})}}),!n&&Object(m.jsx)("button",{className:"".concat($.a.button," ").concat(a?$.a.pink:$.a.grey),onClick:e=>{e.preventDefault(),s.current.click()},children:a||"No file"}),n&&Object(m.jsx)("div",{className:$.a.loading})]})}));var te=class{syncCards(e,t){const a=X.ref("".concat(e,"/cards"));return a.on("value",(e=>{const a=e.val();a&&t(a)})),()=>a.off()}saveCard(e,t){X.ref("".concat(e,"/cards/").concat(t.id)).set(t)}removeCard(e,t){X.ref("".concat(e,"/cards/").concat(t.id)).remove()}};const ae=new q,re=new te,ce=new Y,ne=Object(r.memo)((e=>Object(m.jsx)(ee,{...e,imageUploader:ce})));i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(T,{authService:ae,FileInput:ne,cardRepository:re})}),document.getElementById("root"))}],[[51,1,2]]]);
//# sourceMappingURL=main.2dedecc0.chunk.js.map